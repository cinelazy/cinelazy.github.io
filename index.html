<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anuncio con Cartel</title>
    <style>
        /* Estilos para centrar el contenido en la pantalla */
        body,
        html {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            position: relative;
        }

        .content {
            position: relative; /* Contenedor relativo para posicionar el overlay */
            width: 500px;
            margin: auto;
            padding: 20px;
            border: 2px solid #333;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .content h1 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        .content p {
            font-size: 18px;
            color: #555;
        }

        /* Overlay (cartel) encima del anuncio */
        #overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            cursor: pointer;
            border-radius: 10px;
        }

        #overlay span {
            font-size: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
        }

        /* Contenedor para el anuncio */
        .ad-container {
            margin-top: 30px;
            text-align: center;
            cursor: pointer;
            position: relative;
        }

        .ad-container iframe {
            border: none;
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <div class="content">
        <h1>Haz clic en el cartel para continuar</h1>
        <p>Al hacer clic activas la redirección si cambias de pestaña.</p>

        <!-- Overlay que cubre todo -->
        <div id="overlay">
            <span>Haz clic aquí para ver el anuncio</span>
        </div>

        <div class="ad-container">
            <!-- Script del anuncio -->
            <script type="text/javascript">
                atOptions = {
                    'key': '48b40190617f9ba166911b02d1769ada',
                    'format': 'iframe',
                    'height': 60,
                    'width': 468,
                    'params': {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/48b40190617f9ba166911b02d1769ada/invoke.js"></script>
        </div>
    </div>

    <script>
        (function() {
            var overlay = document.getElementById('overlay');
            // URL a la que se redirigirá si cambias de pestaña
            var redirectUrl = 'https://www.ejemplo-externo.com';

            function activateRedirectOnTabSwitch() {
                // Usamos visibilitychange para detectar cuando la pestaña pierde visibilidad
                document.addEventListener('visibilitychange', function() {
                    if (document.hidden) {
                        window.location.href = redirectUrl;
                    }
                });
            }

            overlay.addEventListener('click', function() {
                // Activar la mecánica de redirección
                activateRedirectOnTabSwitch();
                // Eliminar el cartel
                overlay.parentNode.removeChild(overlay);
            });
        })();
    </script>

</body>

</html>
